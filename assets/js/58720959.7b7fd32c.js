"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[7572],{6671:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>s,contentTitle:()=>o,default:()=>p,frontMatter:()=>l,metadata:()=>t,toc:()=>m});const t=JSON.parse('{"id":"templates/create_import","title":"Import from Helm chart","description":"This guide explains how to create a template by importing a Helm chart from a repository. The system supports both traditional Helm repositories and OCI-based repositories.","source":"@site/docs/templates/create_import.md","sourceDirName":"templates","slug":"/templates/create_import","permalink":"/docs/templates/create_import","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Create","permalink":"/docs/templates/create_manually"},"next":{"title":"Synchronize from Git repository","permalink":"/docs/templates/create_sync"}}');var i=r(4848),a=r(8453);const l={sidebar_position:2},o="Import from Helm chart",s={},m=[{value:"Required Parameters",id:"required-parameters",level:2},{value:"Import Process",id:"import-process",level:2},{value:"Example: Importing from a Traditional Repository",id:"example-importing-from-a-traditional-repository",level:2},{value:"helmrepository.yaml",id:"helmrepositoryyaml",level:3},{value:"helmrelease.yaml",id:"helmreleaseyaml",level:3},{value:"kustomization.yaml",id:"kustomizationyaml",level:3},{value:"Example: Importing from an OCI Repository",id:"example-importing-from-an-oci-repository",level:2},{value:"helmrepository.yaml",id:"helmrepositoryyaml-1",level:3},{value:"Template Rendering",id:"template-rendering",level:2},{value:"Best Practices",id:"best-practices",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"import-from-helm-chart",children:"Import from Helm chart"})}),"\n",(0,i.jsx)(n.p,{children:"This guide explains how to create a template by importing a Helm chart from a repository. The system supports both traditional Helm repositories and OCI-based repositories."}),"\n",(0,i.jsx)(n.h2,{id:"required-parameters",children:"Required Parameters"}),"\n",(0,i.jsx)(n.p,{children:"To import a Helm chart, you need to provide the following parameters:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"repoUrl"}),": The URL of the Helm repository","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["For traditional repositories: ",(0,i.jsx)(n.code,{children:"https://charts.example.com"})]}),"\n",(0,i.jsxs)(n.li,{children:["For OCI repositories: ",(0,i.jsx)(n.code,{children:"oci://registry.example.com/charts"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"chartName"}),": The name of the chart to import"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"repoName"}),": (Optional) A name for the repository (defaults to 'helm-repo')"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"namespace"}),": (Optional) The target namespace (defaults to 'default'). Note: In most cases, the namespace will be automatically generated by the application based on the deployment's UUID."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"import-process",children:"Import Process"}),"\n",(0,i.jsx)(n.p,{children:"When importing a Helm chart, the system will:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Connect to the specified repository"}),"\n",(0,i.jsx)(n.li,{children:"Download the chart"}),"\n",(0,i.jsx)(n.li,{children:"Extract the values.yaml file"}),"\n",(0,i.jsxs)(n.li,{children:["Generate the necessary Kubernetes manifests:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"helmrepository.yaml"}),": Defines the Helm repository"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"helmrelease.yaml"}),": Defines the Helm release with the auto-generated namespace"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"kustomization.yaml"}),": Ties everything together"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"example-importing-from-a-traditional-repository",children:"Example: Importing from a Traditional Repository"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"# Template configuration\nrepoUrl: https://charts.example.com\nchartName: my-application\nrepoName: my-repo\n# namespace is optional and typically auto-generated\n"})}),"\n",(0,i.jsx)(n.p,{children:"This will generate:"}),"\n",(0,i.jsx)(n.h3,{id:"helmrepositoryyaml",children:"helmrepository.yaml"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"apiVersion: source.toolkit.fluxcd.io/v1beta2\nkind: HelmRepository\nmetadata:\n  name: my-repo\nspec:\n  url: https://charts.example.com\n  interval: 10m\n"})}),"\n",(0,i.jsx)(n.h3,{id:"helmreleaseyaml",children:"helmrelease.yaml"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"apiVersion: helm.toolkit.fluxcd.io/v2beta1\nkind: HelmRelease\nmetadata:\n  name: my-application\nspec:\n  interval: 5m\n  releaseName: my-application\n  chart:\n    spec:\n      chart: my-application\n      sourceRef:\n        kind: HelmRepository\n        name: my-repo\n        # namespace will be automatically set to the deployment's UUID\n      interval: 1m\n  values:\n    # Values from the chart's values.yaml\n    # These will be available as $data in your template\n"})}),"\n",(0,i.jsx)(n.h3,{id:"kustomizationyaml",children:"kustomization.yaml"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"apiVersion: kustomize.config.k8s.io/v1beta1\nkind: Kustomization\n# namespace will be automatically set to the deployment's UUID\nresources:\n  - helmrepository.yaml\n  - helmrelease.yaml\n"})}),"\n",(0,i.jsx)(n.h2,{id:"example-importing-from-an-oci-repository",children:"Example: Importing from an OCI Repository"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"# Template configuration\nrepoUrl: oci://registry.example.com/charts\nchartName: my-application\nrepoName: my-oci-repo\n# namespace is optional and typically auto-generated\n"})}),"\n",(0,i.jsx)(n.p,{children:"This will generate similar manifests, but with OCI-specific configuration:"}),"\n",(0,i.jsx)(n.h3,{id:"helmrepositoryyaml-1",children:"helmrepository.yaml"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"apiVersion: source.toolkit.fluxcd.io/v1beta2\nkind: HelmRepository\nmetadata:\n  name: my-oci-repo\nspec:\n  type: oci\n  url: oci://registry.example.com/charts\n  interval: 10m\n"})}),"\n",(0,i.jsx)(n.h2,{id:"template-rendering",children:"Template Rendering"}),"\n",(0,i.jsx)(n.p,{children:"For detailed information about templating your Kubernetes manifests, including variable usage, conditional logic, and port management, refer to:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/docs/templates/use_blade",children:"Blade Templating Guide"}),": Learn how to use the Blade templating engine for dynamic manifest generation"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/docs/templates/use_ports",children:"Port Management Guide"}),": Understand how to manage port claims and reservations"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Always review the chart's values.yaml before importing"}),"\n",(0,i.jsx)(n.li,{children:"Use meaningful repository and chart names"}),"\n",(0,i.jsx)(n.li,{children:"Consider namespace isolation for different applications"}),"\n",(0,i.jsx)(n.li,{children:"Document any custom values you override"}),"\n",(0,i.jsx)(n.li,{children:"Test the imported chart in a staging environment first"}),"\n",(0,i.jsx)(n.li,{children:"Keep track of chart versions for updates"}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>l,x:()=>o});var t=r(6540);const i={},a=t.createContext(i);function l(e){const n=t.useContext(a);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),t.createElement(a.Provider,{value:n},e.children)}}}]);