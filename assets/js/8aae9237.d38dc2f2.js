"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[11],{5871:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>u,frontMatter:()=>t,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"installation/bare-metal","title":"Bare Metal","description":"This guide describes how to install and run Kublade on a bare metal server (without Docker).","source":"@site/docs/installation/bare-metal.md","sourceDirName":"installation","slug":"/installation/bare-metal","permalink":"/docs/installation/bare-metal","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/installation/bare-metal.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Installation","permalink":"/docs/category/installation"},"next":{"title":"Docker","permalink":"/docs/installation/docker"}}');var i=r(4848),a=r(8453);const t={sidebar_position:1},l="Bare Metal",o={},d=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Installation",id:"installation",level:2},{value:"1. Clone the Repository",id:"1-clone-the-repository",level:3},{value:"2. Configure Environment",id:"2-configure-environment",level:3},{value:"3. Install PHP Dependencies",id:"3-install-php-dependencies",level:3},{value:"4. Install Node.js Dependencies and Build Assets",id:"4-install-nodejs-dependencies-and-build-assets",level:3},{value:"5. Generate Application Key",id:"5-generate-application-key",level:3},{value:"6. Run Database Migrations",id:"6-run-database-migrations",level:3},{value:"7. Set Permissions",id:"7-set-permissions",level:3},{value:"8. Configure Supervisor for Horizon",id:"8-configure-supervisor-for-horizon",level:3},{value:"9. Configure Web Server",id:"9-configure-web-server",level:3},{value:"10. Start the Application",id:"10-start-the-application",level:3},{value:"11. (Optional) Set Up Scheduler",id:"11-optional-set-up-scheduler",level:3}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"bare-metal",children:"Bare Metal"})}),"\n",(0,i.jsx)(n.p,{children:"This guide describes how to install and run Kublade on a bare metal server (without Docker)."}),"\n",(0,i.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,i.jsxs)(n.p,{children:["Make sure you have completed all steps in the ",(0,i.jsx)(n.a,{href:"/docs/prerequisites",children:"Prerequisites"})," section."]}),"\n",(0,i.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,i.jsx)(n.h3,{id:"1-clone-the-repository",children:"1. Clone the Repository"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"git clone https://github.com/kublade/kublade.git\ncd kublade\n"})}),"\n",(0,i.jsx)(n.h3,{id:"2-configure-environment",children:"2. Configure Environment"}),"\n",(0,i.jsx)(n.p,{children:"Copy the example environment file and adjust settings as needed:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"cp .env.example .env\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Edit ",(0,i.jsx)(n.code,{children:".env"})," to match your environment (database, cache, queue, etc.)."]}),"\n",(0,i.jsx)(n.h3,{id:"3-install-php-dependencies",children:"3. Install PHP Dependencies"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"composer install --optimize-autoloader --no-dev\n"})}),"\n",(0,i.jsx)(n.h3,{id:"4-install-nodejs-dependencies-and-build-assets",children:"4. Install Node.js Dependencies and Build Assets"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npm install\nnpm run build\n"})}),"\n",(0,i.jsx)(n.h3,{id:"5-generate-application-key",children:"5. Generate Application Key"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"php artisan key:generate\n"})}),"\n",(0,i.jsx)(n.h3,{id:"6-run-database-migrations",children:"6. Run Database Migrations"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"php artisan migrate --force\n"})}),"\n",(0,i.jsx)(n.h3,{id:"7-set-permissions",children:"7. Set Permissions"}),"\n",(0,i.jsxs)(n.p,{children:["Ensure the web server user (e.g., ",(0,i.jsx)(n.code,{children:"www-data"}),") can write to ",(0,i.jsx)(n.code,{children:"storage"})," and ",(0,i.jsx)(n.code,{children:"bootstrap/cache"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo chown -R www-data:www-data storage bootstrap/cache\nsudo chmod -R 775 storage bootstrap/cache\n"})}),"\n",(0,i.jsx)(n.h3,{id:"8-configure-supervisor-for-horizon",children:"8. Configure Supervisor for Horizon"}),"\n",(0,i.jsxs)(n.p,{children:["Create a Supervisor configuration file (e.g., ",(0,i.jsx)(n.code,{children:"/etc/supervisor/conf.d/kublade-horizon.conf"}),"):"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"[program:kublade-horizon]\nprocess_name=%(program_name)s\ncommand=php /path/to/kublade/artisan horizon\nautostart=true\nautorestart=true\nuser=www-data\nredirect_stderr=true\nstdout_logfile=/var/log/kublade-horizon.log\n"})}),"\n",(0,i.jsx)(n.p,{children:"Reload Supervisor:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo supervisorctl reread\nsudo supervisorctl update\nsudo supervisorctl start kublade-horizon\n"})}),"\n",(0,i.jsx)(n.h3,{id:"9-configure-web-server",children:"9. Configure Web Server"}),"\n",(0,i.jsxs)(n.p,{children:["Configure your web server (Nginx or Apache) to serve the ",(0,i.jsx)(n.code,{children:"public"})," directory of Kublade."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Nginx Example:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"server {\n    listen 80;\n    server_name your-domain.com;\n    root /path/to/kublade/public;\n\n    index index.php index.html;\n\n    location / {\n        try_files $uri $uri/ /index.php?$query_string;\n    }\n\n    location ~ \\.php$ {\n        fastcgi_pass unix:/var/run/php/php8.2-fpm.sock;\n        fastcgi_index index.php;\n        fastcgi_param SCRIPT_FILENAME $realpath_root$fastcgi_script_name;\n        include fastcgi_params;\n    }\n\n    location ~ /\\.ht {\n        deny all;\n    }\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"10-start-the-application",children:"10. Start the Application"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Visit your server's domain or IP in the browser."}),"\n",(0,i.jsx)(n.li,{children:"Kublade should now be running."}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"11-optional-set-up-scheduler",children:"11. (Optional) Set Up Scheduler"}),"\n",(0,i.jsx)(n.p,{children:"Add the Laravel scheduler to your crontab:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"* * * * * www-data cd /path/to/kublade && php artisan schedule:run >> /dev/null 2>&1\n"})})]})}function u(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>t,x:()=>l});var s=r(6540);const i={},a=s.createContext(i);function t(e){const n=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);