"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[962],{5733:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>t,contentTitle:()=>c,default:()=>p,frontMatter:()=>l,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"installation/docker","title":"Docker","description":"This guide describes how to install and run Kublade using Docker and docker-compose (Laravel Sail).","source":"@site/docs/installation/docker.md","sourceDirName":"installation","slug":"/installation/docker","permalink":"/docs/installation/docker","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Bare Metal","permalink":"/docs/installation/bare-metal"},"next":{"title":"Kubernetes","permalink":"/docs/installation/kubernetes"}}');var i=o(4848),r=o(8453);const l={sidebar_position:2},c="Docker",t={},d=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Installation",id:"installation",level:2},{value:"1. Clone the Repository",id:"1-clone-the-repository",level:3},{value:"2. Configure Environment",id:"2-configure-environment",level:3},{value:"3. Start the Containers",id:"3-start-the-containers",level:3},{value:"4. Install Dependencies (First Run Only)",id:"4-install-dependencies-first-run-only",level:3},{value:"5. Access the Application",id:"5-access-the-application",level:3},{value:"6. Horizon and Scheduler",id:"6-horizon-and-scheduler",level:3},{value:"7. Stopping and Restarting",id:"7-stopping-and-restarting",level:3},{value:"Production Configuration",id:"production-configuration",level:2},{value:"docker-compose.production.yml vs. docker-compose.yml",id:"docker-composeproductionyml-vs-docker-composeyml",level:3},{value:"How to Use for Production",id:"how-to-use-for-production",level:3}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"docker",children:"Docker"})}),"\n",(0,i.jsx)(n.p,{children:"This guide describes how to install and run Kublade using Docker and docker-compose (Laravel Sail)."}),"\n",(0,i.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,i.jsxs)(n.p,{children:["Make sure you have completed all steps in the ",(0,i.jsx)(n.a,{href:"/docs/prerequisites",children:"Prerequisites"})," section. Additionally, please ensure your environment meets the following requirements:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Docker & Docker Compose:"})," For local development and deployment"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,i.jsx)(n.h3,{id:"1-clone-the-repository",children:"1. Clone the Repository"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"git clone https://github.com/kublade/kublade.git\ncd kublade\n"})}),"\n",(0,i.jsx)(n.h3,{id:"2-configure-environment",children:"2. Configure Environment"}),"\n",(0,i.jsx)(n.p,{children:"Copy the example environment file and adjust settings as needed:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"cp .env.example .env\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Edit ",(0,i.jsx)(n.code,{children:".env"})," to match your environment if necessary."]}),"\n",(0,i.jsx)(n.h3,{id:"3-start-the-containers",children:"3. Start the Containers"}),"\n",(0,i.jsx)(n.p,{children:"Use Docker Compose to start all services:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"docker-compose up -d\n"})}),"\n",(0,i.jsx)(n.p,{children:"This will build and start all required containers (app, database, etc.) using Laravel Sail."}),"\n",(0,i.jsx)(n.h3,{id:"4-install-dependencies-first-run-only",children:"4. Install Dependencies (First Run Only)"}),"\n",(0,i.jsx)(n.p,{children:"Enter the application container:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"docker-compose exec laravel.test bash\n"})}),"\n",(0,i.jsx)(n.p,{children:"Inside the container, run:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"composer install\nnpm install\nnpm run build\nphp artisan key:generate\nphp artisan migrate --force\n"})}),"\n",(0,i.jsx)(n.h3,{id:"5-access-the-application",children:"5. Access the Application"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Visit ",(0,i.jsx)(n.a,{href:"http://localhost",children:"http://localhost"})," in your browser."]}),"\n",(0,i.jsx)(n.li,{children:"Kublade should now be running."}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"6-horizon-and-scheduler",children:"6. Horizon and Scheduler"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Laravel Horizon and the scheduler are managed by Sail and Supervisor inside the container."}),"\n",(0,i.jsx)(n.li,{children:"You can check Horizon with:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"docker-compose exec laravel.test php artisan horizon:status\n"})}),"\n",(0,i.jsx)(n.h3,{id:"7-stopping-and-restarting",children:"7. Stopping and Restarting"}),"\n",(0,i.jsx)(n.p,{children:"To stop the containers:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"docker-compose down\n"})}),"\n",(0,i.jsx)(n.p,{children:"To restart:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"docker-compose up -d\n"})}),"\n",(0,i.jsx)(n.h2,{id:"production-configuration",children:"Production Configuration"}),"\n",(0,i.jsx)(n.h3,{id:"docker-composeproductionyml-vs-docker-composeyml",children:"docker-compose.production.yml vs. docker-compose.yml"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"docker-compose.yml"})," is intended for local development. It includes development-friendly settings, hot-reloading, and may expose more ports or use volumes for live code changes."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"docker-compose.production.yml"})," is optimized for production deployments. It typically uses production-ready settings, disables development features, and may include optimizations for security, performance, and stability."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"how-to-use-for-production",children:"How to Use for Production"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Copy and configure your environment file for production:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"cp .env.example .env\n# Edit .env for production settings (database, cache, mail, etc.)\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Build and start the production containers:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"docker-compose -f docker-compose.production.yml up -d --build\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Run database migrations and other setup tasks:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"docker-compose -f docker-compose.production.yml exec app php artisan migrate --force\ndocker-compose -f docker-compose.production.yml exec app php artisan key:generate\ndocker-compose -f docker-compose.production.yml exec app npm run build\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Access your application:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["The app will be available on the configured port (see ",(0,i.jsx)(n.code,{children:"docker-compose.production.yml"}),")."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Stopping and Restarting in Production:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"docker-compose -f docker-compose.production.yml down\ndocker-compose -f docker-compose.production.yml up -d\n"})}),"\n"]}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},8453:(e,n,o)=>{o.d(n,{R:()=>l,x:()=>c});var s=o(6540);const i={},r=s.createContext(i);function l(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);